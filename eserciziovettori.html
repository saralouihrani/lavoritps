<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array e Statistiche</title>
    <style>
        /* CSS per la griglia e il layout */
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background-color: #f4f4f9;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr); /* Griglia 10x10 per l'array principale */
            gap: 5px;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #ffffff;
        }
        .grid div {
            padding: 8px;
            text-align: center;
            border: 1px solid #ddd;
            background-color: #f9f9f9;
            font-size: 0.85em;
        }
        #evenGrid {
            grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); /* Griglia pi√π flessibile per l'array filtrato */
            gap: 10px;
        }
        .highlight {
            background-color: #ffcc80; /* Evidenziazione per Max/Min */
            font-weight: bold;
            border-color: #ff9900;
        }
        h2, h3 {
            color: #000000;
        }
    </style>
</head>
<body>

    <h2>Array Generato (100 Numeri Casuali)</h2>
    <div id="arrayGrid" class="grid"></div>

    <hr>

    <h3>Statistiche Riassuntive</h3>
    <p id="stats"></p>

    <hr>

    <h2>Numeri Pari Maggiori di 50</h2>
    <div id="evenGrid" class="grid"></div>

    <script>
        // Genera array di 100 numeri casuali tra -100 e 100
        const array = [];
        for(let i = 0; i < 100; i++) {
            // Formula corretta: genera intero tra 0 e 200, poi sottrae 100 (range -100 a 100)
            const num = Math.floor(Math.random() * 201) - 100;
            array.push(num);
        }

        // Calcola media (versione con ciclo for)
        let sum = 0;
        for(let i = 0; i < array.length; i++) {
            sum += array[i];
        }
        const media = sum / array.length;

        // Trova massimo e minimo (versione con ciclo for)
        let massimo = array[0];
        let minimo = array[0];
        for(let i = 1; i < array.length; i++) {
            if(array[i] > massimo) massimo = array[i];
            if(array[i] < minimo) minimo = array[i];
        }

        // Numeri pari maggiori di 50 (versione con ciclo for)
        const evenNumbers = [];
        for(let i = 0; i < array.length; i++) {
            if(array[i] > 50 && array[i] % 2 === 0) {
                evenNumbers.push(array[i]);
            }
        }

        // Costruisci HTML della griglia principale come stringa
        let gridHTML = "";
        for(let i = 0; i < array.length; i++) {
            const highlightClass = (array[i] === massimo || array[i] === minimo) ? "highlight" : "";
            // Correggi la sintassi della stringa: devi usare i template literal (backtick ``)
            gridHTML += `<div class="${highlightClass}">${array[i]}</div>`;
        }
        document.getElementById('arrayGrid').innerHTML = gridHTML;

        // Mostra statistiche
        document.getElementById('stats').innerHTML = `
            **Media:** ${media.toFixed(2)}<br>
            **Massimo:** ${massimo}<br>
            **Minimo:** ${minimo}
        `;

        // Costruisci HTML della griglia dei numeri pari >50
        let evenHTML = "";
        if (evenNumbers.length > 0) {
            for(let i = 0; i < evenNumbers.length; i++) {
                // Correggi la sintassi della stringa
                evenHTML += `<div>${evenNumbers[i]}</div>`;
            }
        } else {
            evenHTML = "<div>Nessun numero pari maggiore di 50 trovato in questo array.</div>";
            // Rimuovi il layout grid se non ci sono elementi (o gestiscilo diversamente)
            document.getElementById('evenGrid').style.display = 'block'; 
        }
        document.getElementById('evenGrid').innerHTML = evenHTML;

    </script>

</body>
</html>